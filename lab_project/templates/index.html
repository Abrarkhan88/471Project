{% extends 'base.html' %}

{% load static %}

{% block title %}Online Clothing Brand{% endblock %}

{% block link %}<link rel="stylesheet" href="{% static 'css/index.css' %}">{% endblock %}

<body>

    {% block accountnav %}
    
    <div><a href = "account/login">Log in</a></div>
    <div><a href = "account/signup">Create an account</a></div>
    
    {% endblock %}
    
    {% block content %}

    <main>
        <div class = "section sec-slideshow">
            <div class="slideshow-container">
                <div class="slides">
                    <img src="{% static 'slideshow/1.jpg' %}" class="slide" width="100%" height="800px" alt="Image 1">
                </div>
                <div class="slides">
                    <img src="{% static 'slideshow/2.jpg' %}" class="slide" width="100%" height="800px" alt="Image 2">
                </div>
                <div class="slides">
                    <img src="{% static 'slideshow/3.jpg' %}" class="slide" width="100%" height="800px" alt="Image 3">
                </div>
                <div class="slides">
                    <img src="{% static 'slideshow/4.jpg' %}" class="slide" width="100%" height="800px" alt="Image 3">
                </div>
                <a class="prev" onclick="moveSlides(-1)">&#10094;</a>
                <a class="next" onclick="moveSlides(1)">&#10095;</a>
            </div>
        </div>

        <div class = "section sec-products">
            <div class = "sec-header">
                <h1>Products</h1>
            </div>
    
            <div class = "products">
                
                {% for prods in product %}

                <div class = "product">
                    <a href = "{% url 'product_detail' prods.id %}" class = "prod-link"><img src="{{prods.img.url}}"><figcaption>{{prods.name}}<br>BDT {{prods.price}}</figcaption></a>
                </div>

                {% endfor %}

            </div>
        </div>
    </main>
    
    
    <!-- JS for slideshow -->
    <script>
        let slideIndex = 0;
        let autoSlideInterval = null;
    
        // Function to show a specific slide
        function showSlides(n) {
            let slides = document.getElementsByClassName("slides");
            if (n >= slides.length) { slideIndex = 0; }
            if (n < 0) { slideIndex = slides.length - 1; }
    
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none"; // Hide all slides
            }
    
            slides[slideIndex].style.display = "block"; // Show the current slide
        }
    
        // Move to the next or previous slide
        function moveSlides(n) {
            slideIndex += n;
            showSlides(slideIndex);
            resetAutoSlide(); // Reset the timer when manually changing slides
        }
    
        // Function to automatically cycle through slides
        function autoSlides() {
            slideIndex++;
            showSlides(slideIndex);
        }
    
        // Start the automatic slideshow
        function startAutoSlide() {
            showSlides(slideIndex); // Show the first slide
            autoSlideInterval = setInterval(autoSlides, 2000); // Change slide every 5 seconds
        }
    
        // Reset the slideshow timer when a manual action is performed
        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
            autoSlideInterval = setInterval(autoSlides, 2000);
        }
    
        // Start the automatic slideshow when the page loads
        window.onload = startAutoSlide;
    </script>

    {% endblock %}

</body>
</html>
