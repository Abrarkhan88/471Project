{% load static %}


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Home | Online Clothing Brand</title>
    
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
    <script src="https://kit.fontawesome.com/929aba3781.js" crossorigin="anonymous"></script>
</head>

<body>
    
    {% include 'navbar.html' %}
    <main>
        <div class = "section sec-slideshow" id="slideshow-container">
            <!-- <div class = "slideshow-container">
                <h1>Slideshow</h1>
            </div> -->

            <div class="slideshow-container">
                <div class="slides">
                    <img src="{% static 'slideshow/1.jpg' %}" class="slide" width="100%" height="800px" alt="Image 1">
                </div>
                <div class="slides">
                    <img src="{% static 'slideshow/2.jpg' %}" class="slide" width="100%" height="800px" alt="Image 2">
                </div>
                <div class="slides">
                    <img src="{% static 'slideshow/3.jpg' %}" class="slide" width="100%" height="800px" alt="Image 3">
                </div>
                <div class="slides">
                    <img src="{% static 'slideshow/4.jpg' %}" class="slide" width="100%" height="800px" alt="Image 3">
                </div>
                <a class="prev" onclick="moveSlides(-1)">&#10094;</a>
                <a class="next" onclick="moveSlides(1)">&#10095;</a>
            </div>
        </div>

        <div class = "section sec-products">
            <div class = "sec-header">
                <h1>Products</h1>
            </div>
    
            <div class = "products">
                
                {% for prods in product %}

                <div class = "product">
                    <a href = "{% url 'product_detail' prods.id %}" class = "prod-link"><img src="{{prods.img.url}}"><figcaption>{{prods.name}}<br>BDT {{prods.price}}</figcaption></a>
                </div>

                {% endfor %}

            </div>
        </div>
    </main>

    <footer class = "footer">
        <div class = "footer-container">
            <div class="footer-address">
                BRAC University<br>
                Bir Uttam Rafiqul Islam Avenue,<br>
                Badda, Dhaka
            </div>

            <div class="footer-quick-links">
                <div><a href="#">About Us</a></div>
                <div><a href="#">Career</a></div>
            </div>
        </div>
        <p>Â© All Rights Reserved | CSE471 Summer 2024 Section 4 Group 9</p>
    </footer>


    <!-- JS for slideshow -->
    <script>
        let slideIndex = 0;
        let autoSlideInterval = null;
    
        // Function to show a specific slide
        function showSlides(n) {
            let slides = document.getElementsByClassName("slides");
            if (n >= slides.length) { slideIndex = 0; }
            if (n < 0) { slideIndex = slides.length - 1; }
    
            for (let i = 0; i < slides.length; i++) {
                slides[i].style.display = "none"; // Hide all slides
            }
    
            slides[slideIndex].style.display = "block"; // Show the current slide
        }
    
        // Move to the next or previous slide
        function moveSlides(n) {
            slideIndex += n;
            showSlides(slideIndex);
            resetAutoSlide(); // Reset the timer when manually changing slides
        }
    
        // Function to automatically cycle through slides
        function autoSlides() {
            slideIndex++;
            showSlides(slideIndex);
        }
    
        // Start the automatic slideshow
        function startAutoSlide() {
            showSlides(slideIndex); // Show the first slide
            autoSlideInterval = setInterval(autoSlides, 2000); // Change slide every 5 seconds
        }
    
        // Reset the slideshow timer when a manual action is performed
        function resetAutoSlide() {
            clearInterval(autoSlideInterval);
            autoSlideInterval = setInterval(autoSlides, 2000);
        }
    
        // Start the automatic slideshow when the page loads
        window.onload = startAutoSlide;
    </script>

    <script>
        document.getElementById('search-input').addEventListener('keyup', function() {
            let searchValue = this.value.toLowerCase();
            let products = document.querySelectorAll('.product');
            let slideshow = document.getElementById('slideshow-container'); // Select the slideshow container

            // Hide the slideshow if there is any input
            if (searchValue.length > 0) {
                slideshow.style.display = 'none';
            } else {
                slideshow.style.display = 'block'; // Show the slideshow if search input is cleared
            }

            products.forEach(function(product) {
                let productName = product.querySelector('figcaption').textContent.toLowerCase();
                if (productName.includes(searchValue)) {
                    product.style.display = 'block';
                } else {
                    product.style.display = 'none';
                }
            });
        });
    </script>
</body>
</html>
